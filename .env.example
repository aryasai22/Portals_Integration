# ============================================================
# CEIPAL API Configuration
# ============================================================

# CEIPAL API Base URL
CEIPAL_BASE_URL=https://api.ceipal.com

# CEIPAL Authentication Credentials
CEIPAL_EMAIL=your-email@company.com
CEIPAL_PASSWORD=your-password
CEIPAL_API_KEY=your-api-key

# Optional: Pre-existing tokens (if you have them)
CEIPAL_AUTH_TOKEN=
CEIPAL_REFRESH_TOKEN=

# Token TTL settings (in seconds)
CEIPAL_ACCESS_TTL_SECS=3300    # 55 minutes
CEIPAL_REFRESH_TTL_SECS=604800 # 7 days

# API Request Settings
CEIPAL_LIMIT=100                # Records per page
CEIPAL_OFFSET=0                 # Starting offset
CEIPAL_SORTBY=employee_number   # Sort field for employees
CEIPAL_SORTORDER=desc           # Sort order: asc or desc

# Sorting for other entities
CEIPAL_PROJECTS_SORTBY=project_code
CEIPAL_PROJECTS_SORTORDER=desc
CEIPAL_PLACEMENTS_SORTBY=job_code
CEIPAL_PLACEMENTS_SORTORDER=desc
CEIPAL_CLIENTS_SORTBY=
CEIPAL_CLIENTS_SORTORDER=
CEIPAL_VENDORS_SORTBY=
CEIPAL_VENDORS_SORTORDER=
CEIPAL_INVOICES_SORTBY=employee_number
CEIPAL_INVOICES_SORTORDER=desc

# Optional: Custom API endpoint URLs (if different from default)
CEIPAL_PROJECTS_LIST_URL=
CEIPAL_PROJECT_DETAIL_URL=
CEIPAL_PLACEMENTS_LIST_URL=
CEIPAL_PLACEMENT_DETAIL_URL=
CEIPAL_CLIENTS_LIST_URL=
CEIPAL_CLIENT_DETAIL_URL=
CEIPAL_VENDORS_LIST_URL=
CEIPAL_VENDOR_DETAIL_URL=
CEIPAL_EXPENSES_LIST_URL=
CEIPAL_EXPENSE_DETAIL_URL=
CEIPAL_COUNTRIES_LIST_URL=
CEIPAL_STATES_LIST_URL=
CEIPAL_INVOICES_LIST_URL=
CEIPAL_INVOICE_DETAIL_URL=


# ============================================================
# Snowflake Configuration
# ============================================================

# Snowflake Account (format: account-name or account-name.region.cloud)
SNOWFLAKE_ACCOUNT=your-account.us-east-1

# Snowflake Authentication
SNOWFLAKE_USER=your_username
SNOWFLAKE_PASSWORD=your_password

# Optional: Key-pair authentication (alternative to password)
# SNOWFLAKE_PRIVATE_KEY_PATH=/path/to/private_key.p8
# SNOWFLAKE_PRIVATE_KEY_PASSPHRASE=your_passphrase

# Snowflake Connection Settings
SNOWFLAKE_ROLE=SYSADMIN
SNOWFLAKE_WAREHOUSE=COMPUTE_WH
SNOWFLAKE_DATABASE=CEIPAL_DW
SNOWFLAKE_SCHEMA=RAW

# Additional Schemas
SNOWFLAKE_STAGE_SCHEMA=STAGING
SNOWFLAKE_WAREHOUSE_SCHEMA=WAREHOUSE

# Load Strategy: append, overwrite, or merge
LOAD_STRATEGY=append


# ============================================================
# PySpark Configuration (Optional Tuning)
# ============================================================

# Spark Driver and Executor Memory
SPARK_DRIVER_MEMORY=4g
SPARK_EXECUTOR_MEMORY=4g

# Number of shuffle partitions (default: 200)
SPARK_SHUFFLE_PARTITIONS=200

# Spark Local Directory (for temp files)
# SPARK_LOCAL_DIR=/tmp/spark

# Spark Master URL (default: local[*] for local mode)
# SPARK_MASTER=local[*]
# For cluster mode: spark://master-host:7077


# ============================================================
# Application Settings
# ============================================================

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
HTTP_DEBUG=false

# Output directory (for fallback JSON dumps)
OUTPUT_DIR=output

# Rate Limiting (requests per second)
DETAIL_RPS=2.0

# Parallel Workers (for detail enrichment)
DETAIL_WORKERS=4

# HTTP Timeouts
HTTP_CONNECT_TIMEOUT=60.0
HTTP_READ_TIMEOUT=120.0
HTTP_RETRIES=6


# ============================================================
# Optional: Data Quality and Monitoring
# ============================================================

# Enable data validation
ENABLE_DATA_VALIDATION=true

# Alert email for ETL failures
ALERT_EMAIL=data-team@company.com

# Slack webhook for notifications
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL


# ============================================================
# Optional: Advanced Snowflake Settings
# ============================================================

# Snowflake Session Parameters
SNOWFLAKE_TIMEZONE=America/New_York
SNOWFLAKE_QUERY_TAG=CEIPAL_ETL

# Auto-commit (default: true)
SNOWFLAKE_AUTOCOMMIT=true

# Connection pooling
SNOWFLAKE_CONNECTION_POOL_SIZE=5

# Query timeout (seconds)
SNOWFLAKE_QUERY_TIMEOUT=300
